{% extends "base2.html" %}

{% block content %}
    <div class="container mt-5">
        <form class="col-6 mx-auto card p-3 shadow-lg" action="{% url 'student_update' student_id=student.id %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" name="phone" id="exampleInputEmail1" aria-describedby="emailHelp" autocomplete="off">
                </div>
                <label for="exampleDataList" class="form-label">Gender</label>
                <select class="form-control" aid="id_gender_type" name="gender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <labevscode-file://vscode-app/c:/Users/sparsh.chawla/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.htmll for="exampleDataList" class="form-label">Institution Type</label>
                <select class="form-control" id="id_institution_type" name="ins_type">
                    <option value="School">School</option>
                    <option value="University">University</option>
                </select>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Institution Name</label>
                    <input type="text" class="form-control" name="institution_name" id="exampleInputEmail1" aria-describedby="emailHelp" autocomplete="off">
                </div>
                <div id="semesterField" style="display: none;">
                    <label for="exampleDataList" class="form-label">Semester</label>
                    <input class="form-control" type="text" name="semester" placeholder="Semester" autocomplete="off">
                </div>
                <div id="standardField">
                    <label for="exampleDataList" class="form-label">Standard</label>
                    <input class="form-control" type="text" name="standard" placeholder="Standard" autocomplete="off">
                </div>
            </div>
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Student Image</label>
                <input type='file' name="student_image" class="form-control">
            </div>
            <div class="form-group">
                <input class="btn btn-danger btn-lg btn-block" type="submit" value="Submit">
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    function toggleFields() {
        var institutionType = document.getElementById("id_institution_type").value;
        var semesterField = document.getElementById("semesterField");
        var standardField = document.getElementById("standardField");

        if (institutionType === "University") {
            semesterField.style.display = "block";
            standardField.style.display = "none";
        } else {
            semesterField.style.display = "none";
            standardField.style.display = "block";
        }
    }
    toggleFields();
    document.getElementById("id_institution_type").addEventListener("change", toggleFields);
});
</script>

{% endblock %}