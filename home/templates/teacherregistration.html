{% extends "base.html" %}

{% block start %}
<div style="background-image: url('https://www.venkateshwaragroup.in/vgiblog/wp-content/uploads/2022/09/Untitled-design-2-1-1050x525.jpg'); background-repeat: no-repeat; background-position: center; background-size: cover; height: 100vh; width: 100vw; position: absolute">
    <div class="container mt-5">
        <form class="col-6 mx-auto card p-3 shadow-lg" action="{% url 'register_teacher' %}" method="POST" enctype="multipart/form-data">
            <h1 class="card-title display-6" >Teacher Registration-Page</h1>
            {% csrf_token %}
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-danger" role="alert">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
            <div class="form-group">
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Subject-1</label>
                    <input type="text" class="form-control" name="sub1" id="exampleInputPassword1" autocomplete="off" pattern="[a-zA-Z]+" required value="{{ sub1|default:'' }}">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Subject-2</label>
                    <input type="text" class="form-control" name="sub2" id="exampleInputPassword1" autocomplete="off" pattern="[a-zA-Z]+" required value="{{ sub2|default:'' }}">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Subject-3</label>
                    <input type="text" class="form-control" name="sub3" id="exampleInputPassword1" autocomplete="off" pattern="[a-zA-Z]+" required value="{{ sub3|default:'' }}">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Experience</label>
                    <input type="number" class="form-control" name="exp" id="exampleInputPassword1" autocomplete="off" pattern="[0-9]" min="0" onkeypress="return !(event.charCode == 46)" required value="{{ exp|default:'' }}">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Min Hourly Rate</label>
                    <input type="number" class="form-control" name="min_hourly_rate" id="exampleInputPassword1" autocomplete="off" pattern="[0-9]*" min="0" onkeypress="return !(event.charCode == 46)" required value="{{ min_hourly_Rate|default:'' }}">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Max Hourly Rate</label>
                    <input type="number" class="form-control" name="max_hourly_rate" id="exampleInputPassword1" autocomplete="off" pattern="[0-9]" min="0" onkeypress="return !(event.charCode == 46)" required value="{{ max_hourly_Rate|default:'' }}">
                </div>
                <div class="form-group">
                    <label for="id_teacher_type">Teacher Type</label>
                    <select class="form-control" id="id_teacher_type" name="teacher_type" autocomplete="off" onchange="toggleFields()" required value="{{ teacher_type|default:'' }}">
                        <option value="University" {% if teacher_type == 'University' %}selected{% endif %}>University</option>
                        <option value="School" {% if teacher_type == 'School' %}selected{% endif %}>School</option>
                    </select>
                </div>
                <div class="form-group" id="semesterField" style="display: none;">
                    <label for="id_semester">Semester</label>
                    <input type="number" class="form-control" name="semester" id="id_semester" min="1" max="8" autocomplete="off" pattern="[0-9]" onkeypress="return !(event.charCode == 46)"value="{{ standard_or_semester|default:'' }}">
                </div>

                <div class="form-group" id="standardField" style="display: none;">
                    <label for="id_standard">Standard</label>
                    <input type="number" class="form-control" name="standard" id="id_standard" min="1" max="12" autocomplete="off" pattern="[0-9]" onkeypress="return !(event.charCode == 46)" value="{{ standard_or_semester|default:'' }}">
                </div>
            <label for="exampleDataList" class="form-label">Gender</label>
            <select class="form-control" id="id_gender_type" name="gender" autocomplete="off" value="{{ gender|default:'' }}">
                <option value="Male" {% if gender == 'Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if gender == 'Female' %}selected{% endif %}>Female</option>
            </select>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Teacher Image</label>
                    <input type='file' name="teacher_image" class="form-control" autocomplete="off" accept="image/*" value="{{ img|default:'' }}">
                </div>
            <div class="form-group">
                <input class="btn btn-danger btn-lg btn-block" type="submit" value="Submit">
            </div>
        </form>
    </div>
</div>
<script>
    function toggleFields() {
        var teacherType = document.getElementById("id_teacher_type").value;
        var semesterField = document.getElementById("semesterField");
        var standardField = document.getElementById("standardField");
        var semesterInput = document.querySelector('[name="semester"]');
        var standardInput = document.querySelector('[name="standard"]');
        if (teacherType === 'University') {
            semesterField.style.display = 'block';
            standardField.style.display = 'none';
            semesterInput.required = true;
            standardInput.required = false;
        } else if (teacherType === 'School') {
            semesterField.style.display = 'none';
            standardField.style.display = 'block';
            semesterInput.required = false;
            standardInput.required = true;
        }
    }
    toggleFields();
</script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function() {
        setTimeout(function() {
            $('.alert-danger').fadeOut('slow');
        }, 2000); 
        $('.del-msg').on('click', function() {
            $(this).parent().hide();
        });
    });
</script>
{% endblock %}