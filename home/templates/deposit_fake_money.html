{% extends "base2.html" %}
{% block content %}
  <div class="container mt-5">
    <div class="card shadow-lg mx-auto" style="max-width: 400px;">
      <div class="card-body text-center">
        <h1 class="card-title display-4">Deposit Money</h1>
        <form method="post" action="{% url 'deposit_money' %}">
          {% csrf_token %}
          {% if messages %}
          {% for message in messages %}
            <div class="alert alert-danger" role="alert">
              {{ message }}
            </div>
          {% endfor %}
          {% endif %}
          <div class="form-group flex-container">
            <div class="flex-item left-hand">
              <label for="credit_card">Credit Card Number:</label>
              <input required type="text" class="form-control" name="credit_card" placeholder="XXXX XXXX XXXX XXXX" autocomplete="off" size="16" maxlength="16" minlength="16" pattern="[0-9]{16}" title="Enter a valid 16-digit credit card number">
            </div>
            <div class="flex-item">
              <label for="cvv">CVV:</label>
              <input type="password" class="form-control" name="cvv" placeholder="CVV" size="3" maxlength="3" minlength="3" autocomplete="off" pattern="[0-9]{3}" title="Enter a valid 3-digit CVV" required>
            </div>
          </div>

          <div class="form-group flex-container">
            <div class="flex-item left-hand">
              <label for="cardholder_name">Cardholder Name:</label>
              <input type="text" class="form-control" name="cardholder_name" placeholder="Cardholder Name" autocomplete="off" maxlength="255" title="Enter a valid cardholder name" pattern="[a-zA-Z ]*" required>
            </div>
            <div class="flex-item">
              <label for="expiration_date">Expiration Date:</label>
              <input type="text" class="form-control" name="expiration_date" placeholder="MM/YY" autocomplete="off" pattern="([0-9]{2})/([0-9]{2})" title="Enter a valid MM/YY format" required>
            </div>
          </div>
          <div class="form-group">
            <label for="amount">Amount:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">&#8377;</span>
              </div>
              <input type="number" class="form-control" name="amount"  min="1" autocomplete="off" title="Enter an amount greater than or equal to 0" pattern="[0-9]" required  onkeypress="return !(event.charCode == 46)">
            </div>
          </div>
          <button type="submit" class="btn btn-success btn-lg btn-block mt-3">Deposit</button>
        </form>
        <img src="/media/teacher/money.jpg" alt="Money" class="img-fluid mt-3">
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script>
    $(document).ready(function() {
        // Timeout for message disappearance
        setTimeout(function() {
            $('.alert-danger').fadeOut('slow');
        }, 2000); // Adjust the time in milliseconds as needed

        // Delete message on click (optional)
        $('.del-msg').on('click', function() {
            $(this).parent().hide();
        });
    });
  </script>
{% endblock %}
